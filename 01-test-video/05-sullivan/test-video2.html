<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="./sullivan.js"></script>

</head>
<body>
<div id="container"></div>
<button id="playBtn">播放</button>

<script>
  const $playBtn = document.querySelector('#playBtn');
  const $container = document.querySelector('#container');
  let mseDecoder;

  console.log("mediaSource", mediaSource);

  function createPlayer () {
    const player = new Sullivan({
      $container: $container
    });

    player.oncanplay = function(){
      // console.log("准备就绪");
    };
    //监听播放开始
    player.addEventListener('play', function(){
      console.log("开始播放");
    });

    //监听播放结束
    player.addEventListener('pause', function(){
      console.log("播放暂停");
    });

    //监听播放结束
    player.addEventListener('ended', function(){
      console.log("播放结束");
    });
  }

  $playBtn.addEventListener('click', () => {
    console.log('click');
    createPlayer();
  }, false)
</script>
</body>
</html>
